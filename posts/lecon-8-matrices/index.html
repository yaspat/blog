<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Informatique : Leçon 8. Matrices | Maths info  BCPST 1A Rennes</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://yaspat.github.io/blog/posts/lecon-8-matrices/">
<link rel="icon" href="../../favicon.ico" sizes="16x16">
<link rel="icon" href="../../favicon.ico" sizes="128x128">
<link rel="icon" href="../../favicon.ico" sizes="256x256">
<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'left' if you want.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script><!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><meta name="author" content="MY. Patel">
<meta property="og:site_name" content="Maths info  BCPST 1A Rennes">
<meta property="og:title" content="Informatique : Leçon 8. Matrices">
<meta property="og:url" content="http://yaspat.github.io/blog/posts/lecon-8-matrices/">
<meta property="og:description" content="Comment représenter les matrices ?

Contents

Comment représenter les matrices ?
Accéder à un coefficient
Fonction cousue main : taille d'une matrice


Opérations matricielles cousues main
Multiplicat">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-02-03T17:41:55+01:00">
<meta property="article:tag" content="listes en compréhension">
<meta property="article:tag" content="matrices">
<meta property="article:tag" content="python">
</head>
<body>
    <section class="social"><ul>
<li><a href="../../index.html" title="Les billets"><i class="icon-home"></i></a></li>
            <li><a href="../../stories/about-me" title="Mathématiques pythoniques ?"><i class="icon-question-sign"></i></a></li>
            <li><a href="../../stories/programmes-de-colles" title="Organisation/Colles"><i class="icon-calendar"></i></a></li>
            <li><a href="../../stories/animathions" title="Animathions"><i class="icon-youtube-play"></i></a></li>
            <li><a href="../../stories/exercices" title="Feuilles de TD/exercices"><i class="icon-gears"></i></a></li>
            <li><a href="../../stories/sujets-de-dmds" title="DM/DS"><i class="icon-edit"></i></a></li>
            <li><a href="../../stories/informatique" title="Informatique"><i class="icon-desktop"></i></a></li>
            <li><a href="../../stories/livre-dor" title="Livre d'or"><i class="icon-book"></i></a></li>
            <li><a href="../../archive.html" title="Archives"><i class="icon-archive"></i></a></li>
            <li><a href="../../categories/index.html" title="Étiquettes"><i class="icon-tags"></i></a></li>
            <li><a href="https://twitter.com/yaspatmat" title="Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="https://github.com/yaspat" title="Github"><i class="icon-github"></i></a></li>
            <li><a href="../../rss.xml" title="RSS"><i class="icon-rss"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
    <div class="post">
        <h1 class="p-name entry-title" itemprop="headline name">Informatique : Leçon 8. Matrices</h1>

        <div class="meta">
            <div class="authordate">
                <time class="timeago" datetime="2016-02-03T17:41:55+01:00">2016-02-03 17:41</time>
            
                      |  
        <a href="index.rst" id="sourcelink">Source</a>

            </div>
                    <div itemprop="keywords" class="tags">
        <ul>
        Étiquettes : 
           <li><a class="tag p-category" href="../../categories/listes-en-comprehension/" rel="tag">listes en compréhension</a></li>
           <li><a class="tag p-category" href="../../categories/matrices/" rel="tag">matrices</a></li>
           <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
        </ul>
</div>

        </div>
        <div class="body">
            <div>
<div class="section" id="comment-representer-les-matrices">
<h2><a class="toc-backref" href="#id1">Comment représenter les matrices ?</a></h2>
<div class="contents alert alert-info pull-right topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li>
<a class="reference internal" href="#comment-representer-les-matrices" id="id1">Comment représenter les matrices ?</a><ul>
<li><a class="reference internal" href="#acceder-a-un-coefficient" id="id2">Accéder à un coefficient</a></li>
<li><a class="reference internal" href="#fonction-cousue-main-taille-d-une-matrice" id="id3">Fonction cousue main : taille d'une matrice</a></li>
</ul>
</li>
<li>
<a class="reference internal" href="#operations-matricielles-cousues-main" id="id4">Opérations matricielles cousues main</a><ul>
<li><a class="reference internal" href="#multiplication-par-une-constante" id="id5">Multiplication par une constante</a></li>
<li>
<a class="reference internal" href="#version-amelioree-les-listes-en-comprehension-c-est-super" id="id6">Version améliorée : les listes en compréhension c'est super</a><ul>
<li><a class="reference internal" href="#comme-en-maths" id="id7">Comme en maths !</a></li>
<li><a class="reference internal" href="#et-en-cascade" id="id8">Et en cascade</a></li>
</ul>
</li>
<li><a class="reference internal" href="#produit-matriciel-cousu-main" id="id9">Produit matriciel cousu main</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pour-rigoler-se-bricoler-un-bel-affichage" id="id10">Pour rigoler : se bricoler un bel affichage</a></li>
</ul>
</div>
<p><strong>Rappel.</strong> Une matrice est un tableau bi-dimensionnel de nombres. Il
existe un module dédié au calcul matriciel, mais pour le moment on va
construire artisanalement nos matrices. ça fera un bon exercice de
programmation.</p>
<p><strong>Exemple.</strong>
<span class="math">\(A =\begin{pmatrix} 1&amp;1&amp;1\\ 1&amp;1&amp;0\\ 1&amp;0&amp;1 \end{pmatrix}\)</span> ou
<span class="math">\(M =\begin{pmatrix} 1&amp;2&amp;3\\ 4&amp;5&amp;6 \end{pmatrix}\)</span></p>
<p>Vous pouvez considérer ainsi qu'une matrice est une liste de lignes,
chaque ligne étant elle-même une liste de flottants. Ainsi, on peut
définir des matrices comme des listes de listes.</p>
<pre class="code python"><a name="rest_code_230a9f506eb0445f9f67d8bc5e326baf-1"></a><span class="n">A</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span> <span class="c1"># les séparateurs des items sont</span>
<a name="rest_code_230a9f506eb0445f9f67d8bc5e326baf-2"></a>                              <span class="c1"># des virgules</span>
</pre>
<!--TEASER_END--><pre class="code python"><a name="rest_code_72154b5b59644c028b0f35ba3abb19ef-1"></a><span class="n">M</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]</span>
</pre>
<div class="section" id="acceder-a-un-coefficient">
<h3><a class="toc-backref" href="#id2">Accéder à un coefficient</a></h3>
<p>Si vous vous voulez récupérer le coefficient <span class="math">\(m_{i,j}\)</span> dans
<span class="math">\(M\)</span>, par exemple <span class="math">\(m_{2,3} = 6\)</span>, vous taperez :</p>
<pre class="code python"><a name="rest_code_d97e7e0d9b6c443d976d4d6db166ca36-1"></a><span class="n">M</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># En Python, la numération commence à  0 ...</span>
</pre>
<pre class="literal-block">
6
</pre>
</div>
<div class="section" id="fonction-cousue-main-taille-d-une-matrice">
<h3><a class="toc-backref" href="#id3">Fonction cousue main : taille d'une matrice</a></h3>
<p><strong>Exercice.</strong></p>
<ol class="arabic simple">
<li>Construire une fonction <span class="math">\(\texttt{taille(A)}\)</span> qui prend en
entrée une matrice <span class="math">\(\texttt{A}\)</span> et retourne en sortie le tuple
<span class="math">\(\texttt{(n,p)}\)</span> donnant son format. Par exemple, pour la
matrice <span class="math">\(\texttt{M}\)</span> précédente, <span class="math">\(\texttt{taille(M)}\)</span>
doit vous retourner le tuple <span class="math">\(\texttt{(2,3)}\)</span>.</li>
<li>Testez votre fonction sur les matrices <span class="math">\(A\)</span>,<span class="math">\(M\)</span>
précédentes.</li>
<li>Pourquoi cela ne marche pas pour <tt class="docutils literal">L = [1,2,3,4]</tt> ?</li>
<li>Testez alors sur la matrice ligne
<span class="math">\(L=\begin{pmatrix} 1&amp;12&amp;-1&amp;0 \end{pmatrix} \)</span>
</li>
</ol>
<p><strong>Réponse à la question 1.</strong></p>
<pre class="code python"><a name="rest_code_c90d457c95794242938a1079d2263a73-1"></a><span class="k">def</span> <span class="nf">taille</span><span class="p">(</span><span class="n">M</span><span class="p">):</span>
<a name="rest_code_c90d457c95794242938a1079d2263a73-2"></a>    <span class="sd">""" fonction qui prend en entrée une matrice vue comme</span>
<a name="rest_code_c90d457c95794242938a1079d2263a73-3"></a><span class="sd">        une liste de listes, et qui retourne en sortie son format.</span>
<a name="rest_code_c90d457c95794242938a1079d2263a73-4"></a><span class="sd">        Exemple : M = 1 2 3</span>
<a name="rest_code_c90d457c95794242938a1079d2263a73-5"></a><span class="sd">                      4 5 6</span>
<a name="rest_code_c90d457c95794242938a1079d2263a73-6"></a><span class="sd">        taille(M) vaut (2,3)</span>
<a name="rest_code_c90d457c95794242938a1079d2263a73-7"></a><span class="sd">    """</span>
<a name="rest_code_c90d457c95794242938a1079d2263a73-8"></a>    <span class="k">return</span>  <span class="nb">len</span><span class="p">(</span><span class="n">M</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># C'est bien un tuple !</span>
</pre>
<p><strong>Réponse à la question 2.</strong></p>
<pre class="code python"><a name="rest_code_ef1a42a8852a4ce2bd687bef741500fa-1"></a><span class="n">taille</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
</pre>
<pre class="literal-block">
(2, 3)
</pre>
<pre class="code python"><a name="rest_code_509fa1427d5c451e8eab51c7291b60dc-1"></a><span class="n">taille</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
</pre>
<pre class="literal-block">
(3, 3)
</pre>
<p><strong>Réponse à la question 3.</strong> l'objet <span class="math">\(\texttt{L}\)</span> ainsi défini est
une liste d'entiers et pas uen liste de listes : en tant que telle, ce
n'est pas une matrice.</p>
<p><strong>Réponse à la question 4.</strong></p>
<pre class="code python"><a name="rest_code_3ae502df793048798e860e04b15d03aa-1"></a><span class="n">L</span> <span class="o">=</span>  <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>       <span class="c1"># Ne pas oublier que chaque ligne de</span>
<a name="rest_code_3ae502df793048798e860e04b15d03aa-2"></a><span class="n">C</span> <span class="o">=</span>  <span class="p">[[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">]]</span> <span class="c1"># toute matrice est une liste !</span>
<a name="rest_code_3ae502df793048798e860e04b15d03aa-3"></a>                         <span class="c1"># D'où les (nombreux) crochets</span>
</pre>
<pre class="code python"><a name="rest_code_f006f602a5fb4ab185b4035dd14c30dc-1"></a><span class="n">taille</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
</pre>
<pre class="literal-block">
(1, 4)
</pre>
<pre class="code python"><a name="rest_code_88787aec16d84687857f70b30351d6a4-1"></a><span class="n">taille</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
</pre>
<pre class="literal-block">
(4, 1)
</pre>
</div>
</div>
<div class="section" id="operations-matricielles-cousues-main">
<h2><a class="toc-backref" href="#id4">Opérations matricielles cousues main</a></h2>
<div class="section" id="multiplication-par-une-constante">
<h3><a class="toc-backref" href="#id5">Multiplication par une constante</a></h3>
<p><strong>Exercice.</strong> Programmer une fonction <span class="math">\(\texttt{mult(mu,A)}\)</span> qui
prend en entrée un scalaire <span class="math">\(\mu\)</span> et une matrice <span class="math">\(A\)</span> et qui
retourne en sortie la matrice <span class="math">\(\mu A\)</span>.</p>
<p><em>Indications</em></p>
<ol class="arabic simple">
<li>Si on appelle <span class="math">\(\texttt{resultat}\)</span> la matrice qu'on veut
calculer, intialisez votre liste <span class="math">\(\texttt{reusltat}\)</span> à une
liste vide.</li>
<li>Remplissez <span class="math">\(\texttt{resultat}\)</span> ligne par ligne : boucle sur les
lignes.</li>
<li>Pour chaque ligne : remplissez <span class="math">\(\texttt{resultat}\)</span> colonne par
colonne : boucle sur les colonnes.</li>
</ol>
<p>Vous aurez besoin de regarder dans l'aide-mémoire comment ajouter un
élément à une liste pour remplir vos lignes et votre matrice.</p>
<p>Votre fonction contient donc une double boucle.</p>
<pre class="code python"><a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-1"></a><span class="k">def</span> <span class="nf">mult</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">A</span><span class="p">):</span>
<a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-2"></a>    <span class="sd">""" Fonction qui calcule le produit mu X A où mu est un scalaire</span>
<a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-3"></a><span class="sd">    et A une matrice.</span>
<a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-4"></a><span class="sd">    """</span>
<a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-5"></a>    <span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="o">=</span> <span class="n">taille</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-6"></a>    <span class="n">resultat</span> <span class="o">=</span> <span class="p">[]</span>
<a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-7"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>     <span class="c1"># je prends les lignes de A une par une</span>
<a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-8"></a>                           <span class="c1"># range(k) signifie range(0,k)</span>
<a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-9"></a>        <span class="n">ligne</span><span class="o">=</span><span class="p">[]</span>           <span class="c1"># je remplis la ligne qui est vide</span>
<a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-10"></a>        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">p</span><span class="p">):</span>
<a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-11"></a>            <span class="n">ligne</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mu</span><span class="o">*</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="c1"># j'ajoute à la ligne le coeff mu a_ij</span>
<a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-12"></a>        <span class="n">resultat</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ligne</span><span class="p">)</span>      <span class="c1"># j'ajoute la ligne calculée à la matrice</span>
<a name="rest_code_2aba20a9a441497a8d6e9cb3a1a97e5b-13"></a>    <span class="k">return</span> <span class="n">resultat</span>
</pre>
<pre class="code python"><a name="rest_code_308ef39fb3e94e70b878761781bba980-1"></a><span class="n">mult</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">A</span><span class="p">)</span>
</pre>
<pre class="literal-block">
[[-1, -1, -1], [-1, -1, 0], [-1, 0, -1]]
</pre>
</div>
<div class="section" id="version-amelioree-les-listes-en-comprehension-c-est-super">
<h3><a class="toc-backref" href="#id6">Version améliorée : les listes en compréhension c'est super</a></h3>
<p><strong>Remarque.</strong> Il y a une façon plus pythonique de faire cela. Je pars de
la liste suivante :</p>
<pre class="code python"><a name="rest_code_50731d5fdb8b46c587737d824ffb6b9c-1"></a><span class="n">liste1</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span> <span class="p">,</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</pre>
<div class="section" id="comme-en-maths">
<h4><a class="toc-backref" href="#id7">Comme en maths !</a></h4>
<p>Je créé la liste qui s'écrirait ainsi en maths :
<span class="math">\(\texttt{liste2} = [ 3x, \quad  x \in  \texttt{liste1}]\)</span>. En
<strong>Python</strong>, cela s'écrit de la même façon :</p>
<pre class="code python"><a name="rest_code_bb42da0d567546dda0a6b630f3c71914-1"></a><span class="n">liste2</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">liste1</span><span class="p">]</span>
<a name="rest_code_bb42da0d567546dda0a6b630f3c71914-2"></a><span class="k">print</span> <span class="n">liste2</span>
</pre>
<pre class="literal-block">
[3, -27, 15, 12]
</pre>
</div>
<div class="section" id="et-en-cascade">
<h4><a class="toc-backref" href="#id8">Et en cascade</a></h4>
<p>Si je veux construire de la même façon la matrice <span class="math">\(3A\)</span> où
<span class="math">\(A\)</span> est la matrice précédemment définie :
<span class="math">\(A =\begin{pmatrix} 1&amp;1&amp;1\\ 1&amp;1&amp;0\\ 1&amp;0&amp;1 \end{pmatrix}\)</span></p>
<pre class="code python"><a name="rest_code_4276120730874930a8f66739bc8f5777-1"></a><span class="p">[</span> <span class="p">[</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ligne</span><span class="p">]</span> <span class="k">for</span> <span class="n">ligne</span> <span class="ow">in</span> <span class="n">A</span> <span class="p">]</span>
</pre>
<pre class="literal-block">
[[3, 3, 3], [3, 3, 0], [3, 0, 3]]
</pre>
<p>Ce qui donne une façon plus simple de programmer <span class="math">\(\texttt{mult}\)</span> :</p>
<pre class="code python"><a name="rest_code_36ea911b3da84b19997cc47c8aacd8b6-1"></a><span class="k">def</span> <span class="nf">mult2</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">A</span><span class="p">):</span>
<a name="rest_code_36ea911b3da84b19997cc47c8aacd8b6-2"></a>    <span class="sd">"""version améliorée de mult"""</span>
<a name="rest_code_36ea911b3da84b19997cc47c8aacd8b6-3"></a>    <span class="k">return</span> <span class="p">[</span> <span class="p">[</span><span class="n">mu</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">toto</span><span class="p">]</span> <span class="k">for</span> <span class="n">toto</span> <span class="ow">in</span> <span class="n">A</span> <span class="p">]</span>
</pre>
<pre class="code python"><a name="rest_code_71e5e4bc9d0445d6933187ab3e36a362-1"></a><span class="n">mult2</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">A</span><span class="p">)</span>
</pre>
<pre class="literal-block">
[[5, 5, 5], [5, 5, 0], [5, 0, 5]]
</pre>
</div>
</div>
<div class="section" id="produit-matriciel-cousu-main">
<h3><a class="toc-backref" href="#id9">Produit matriciel cousu main</a></h3>
<p><strong>Exercice.</strong> Ecrire une fonction <span class="math">\(\texttt{fois(A,B)}\)</span> qui prend
en entrée deux matrices <span class="math">\(\texttt{A}\)</span> et <span class="math">\(\texttt{B}\)</span> et qui
:</p>
<ol class="arabic simple">
<li>Retourne en sortie le produit matriciel <span class="math">\(\texttt{AB}\)</span> si il est
défini.</li>
<li>Affiche un message d'erreur sinon.</li>
</ol>
<p><em>Indication.</em> Construire la matrice <span class="math">\(\texttt{AB}\)</span> ligne par ligne
(boucle !) et regarder dans l'aide-mémoire comment ajouter un élément à
une liste.</p>
<pre class="code python"><a name="rest_code_879895cf96a14642b893362431034b10-1"></a><span class="k">def</span> <span class="nf">fois</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">):</span>
<a name="rest_code_879895cf96a14642b893362431034b10-2"></a>    <span class="sd">""" Calcule le produit matriciel A x B si il existe, sinon</span>
<a name="rest_code_879895cf96a14642b893362431034b10-3"></a><span class="sd">        affiche un message d'erreur.</span>
<a name="rest_code_879895cf96a14642b893362431034b10-4"></a><span class="sd">    """</span>
<a name="rest_code_879895cf96a14642b893362431034b10-5"></a>    <span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="o">=</span> <span class="n">taille</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>        <span class="c1"># j'utilise ma fonction taille !</span>
<a name="rest_code_879895cf96a14642b893362431034b10-6"></a>    <span class="p">(</span><span class="n">q</span><span class="p">,</span><span class="n">r</span><span class="p">)</span> <span class="o">=</span> <span class="n">taille</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<a name="rest_code_879895cf96a14642b893362431034b10-7"></a>    <span class="k">if</span> <span class="n">p</span> <span class="o">!=</span> <span class="n">q</span> <span class="p">:</span>
<a name="rest_code_879895cf96a14642b893362431034b10-8"></a>        <span class="k">print</span> <span class="s1">'Matrices incompatibles'</span>
<a name="rest_code_879895cf96a14642b893362431034b10-9"></a>    <span class="k">else</span><span class="p">:</span>
<a name="rest_code_879895cf96a14642b893362431034b10-10"></a>        <span class="n">produit</span> <span class="o">=</span> <span class="p">[]</span>         <span class="c1"># j'intialise AB à une matrice vide</span>
<a name="rest_code_879895cf96a14642b893362431034b10-11"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">n</span><span class="p">):</span> <span class="c1"># je calcule la ligne i</span>
<a name="rest_code_879895cf96a14642b893362431034b10-12"></a>            <span class="n">ligne</span> <span class="o">=</span> <span class="p">[]</span>       <span class="c1"># j'intialiste la ligne à une ligne vide</span>
<a name="rest_code_879895cf96a14642b893362431034b10-13"></a>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">r</span><span class="p">):</span>
<a name="rest_code_879895cf96a14642b893362431034b10-14"></a>                <span class="n">coeff</span> <span class="o">=</span> <span class="mi">0</span>
<a name="rest_code_879895cf96a14642b893362431034b10-15"></a>                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">p</span><span class="p">):</span>
<a name="rest_code_879895cf96a14642b893362431034b10-16"></a>                    <span class="n">coeff</span> <span class="o">+=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
<a name="rest_code_879895cf96a14642b893362431034b10-17"></a>                <span class="n">ligne</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coeff</span><span class="p">)</span>
<a name="rest_code_879895cf96a14642b893362431034b10-18"></a>            <span class="n">produit</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ligne</span><span class="p">)</span>
<a name="rest_code_879895cf96a14642b893362431034b10-19"></a>    <span class="k">return</span> <span class="n">produit</span>
</pre>
<pre class="code python"><a name="rest_code_5d1ab43b745241cd9f543fa94979e552-1"></a><span class="n">atilla</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>
</pre>
<pre class="code python"><a name="rest_code_73a9cb036a484c0598cca82112c9acf4-1"></a><span class="n">fois</span><span class="p">(</span><span class="n">atilla</span><span class="p">,</span><span class="n">atilla</span><span class="p">)</span>
</pre>
<pre class="literal-block">
[[3, 3, 3], [3, 3, 3], [3, 3, 3]]
</pre>
<pre class="code python"><a name="rest_code_e4a205e0565546c7b180c4caf8053d7c-1"></a><span class="n">fois</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">A</span><span class="p">)</span>
</pre>
<pre class="literal-block">
[[3, 2, 2], [2, 2, 1], [2, 1, 2]]
</pre>
<pre class="code python"><a name="rest_code_ed5e8e9c2b0e41e8b62ccbe1a15a2939-1"></a><span class="k">print</span> <span class="n">A</span>
</pre>
<pre class="literal-block">
[[1, 1, 1], [1, 1, 0], [1, 0, 1]]
</pre>
</div>
</div>
<div class="section" id="pour-rigoler-se-bricoler-un-bel-affichage">
<h2><a class="toc-backref" href="#id10">Pour rigoler : se bricoler un bel affichage</a></h2>
<p>On commence à faire du tuning là. On aimerait bien que :</p>
<pre class="code python"><a name="rest_code_732e7826d48e41daaf0812a66ace4766-1"></a><span class="k">print</span> <span class="n">A</span>
</pre>
<pre class="literal-block">
[[1, 1, 1], [1, 1, 0], [1, 0, 1]]
</pre>
<p>donne un affichage en tableau. Voici le principe :</p>
<ol class="arabic simple">
<li>Déterminer dans la liste des coefficients de la matrice le coeff qui
prend le plus de place dans la matrice.</li>
<li>Réserver le même espace à chaque coeff.</li>
<li>Afficher les lignes les unes au-dessus des autres.</li>
</ol>
<p>Pour 1., je vais faire ça avec la puissance des listes en compréhension.
Accrochez-vous, quand on a compris, c'est facile, mais à lire dans
l'autre sens c'est plus dur :</p>
<pre class="code python"><a name="rest_code_82c078eb0752443cab361af50b6f0d56-1"></a><span class="k">def</span> <span class="nf">longueur_max</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
<a name="rest_code_82c078eb0752443cab361af50b6f0d56-2"></a>    <span class="sd">""" cherche la chaine de caractères la plus longue parmi les chaînes</span>
<a name="rest_code_82c078eb0752443cab361af50b6f0d56-3"></a><span class="sd">        représentant les coeffs de la matrice A</span>
<a name="rest_code_82c078eb0752443cab361af50b6f0d56-4"></a><span class="sd">    """</span>
<a name="rest_code_82c078eb0752443cab361af50b6f0d56-5"></a>    <span class="k">return</span>  <span class="nb">max</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">coeff</span><span class="p">))</span> <span class="k">for</span> <span class="n">ligne</span> <span class="ow">in</span> <span class="n">A</span> <span class="k">for</span> <span class="n">coeff</span> <span class="ow">in</span> <span class="n">ligne</span><span class="p">])</span>
</pre>
<p>Par exemple : je prends la matrice</p>
<div class="math">
\begin{equation*}
 A = \begin{pmatrix}
1 &amp; 2 &amp; 4324\\
333333&amp;1&amp;0
\end{pmatrix}
\end{equation*}
</div>
<pre class="code python"><a name="rest_code_7c081af8d0d043669269904ea1c2877b-1"></a><span class="n">A</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4324</span><span class="p">],</span> <span class="p">[</span><span class="mi">333333</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
<a name="rest_code_7c081af8d0d043669269904ea1c2877b-2"></a><span class="n">longueur_max</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>  <span class="c1"># la chaine '333333' est la plus longue, de longueur 6</span>
</pre>
<pre class="literal-block">
6
</pre>
<p>C'est la magie de <strong>Python</strong> : une syntaxe très souple qui permet
d'écrire en peu de mots des choses compliquées. Revers de la médaille :
pour relire du code, c'est souvent compliqué quand on use des astuces
pythoniques.</p>
<p>Pour 2., je crée une fonction qui étant donné une chaîne de caractères,
la complète avec des espaces pour qu'elle atteigne une longueur
<span class="math">\(\mathtt{r}\)</span> donnée :</p>
<pre class="code python"><a name="rest_code_fc571f8623bc49be86d32dbd0e4f5833-1"></a><span class="k">def</span> <span class="nf">ajoute_blancs</span><span class="p">(</span><span class="n">chaine</span><span class="p">,</span><span class="n">r</span><span class="p">):</span>
<a name="rest_code_fc571f8623bc49be86d32dbd0e4f5833-2"></a>    <span class="n">l</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">chaine</span><span class="p">))</span> <span class="c1"># je mets un str en plus au cas où on</span>
<a name="rest_code_fc571f8623bc49be86d32dbd0e4f5833-3"></a>                         <span class="c1"># veut rentrer un flottant.</span>
<a name="rest_code_fc571f8623bc49be86d32dbd0e4f5833-4"></a>    <span class="k">return</span>   <span class="s1">' '</span><span class="o">*</span><span class="p">(</span><span class="n">r</span><span class="o">-</span><span class="n">l</span><span class="p">)</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">chaine</span><span class="p">)</span>
</pre>
<pre class="code python"><a name="rest_code_1247d1100d634378b657811f71e3e77d-1"></a><span class="n">ajoute_blancs</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</pre>
<pre class="literal-block">
'  12'
</pre>
<p>Avec ça, je peux faire ma fonction d'affichage</p>
<pre class="code python"><a name="rest_code_c4d444fb68c049b4909283fd72389c04-1"></a><span class="k">def</span> <span class="nf">affiche</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
<a name="rest_code_c4d444fb68c049b4909283fd72389c04-2"></a>    <span class="n">p</span> <span class="o">=</span> <span class="n">longueur_max</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<a name="rest_code_c4d444fb68c049b4909283fd72389c04-3"></a>    <span class="k">for</span> <span class="n">ligne</span> <span class="ow">in</span> <span class="n">A</span><span class="p">:</span>
<a name="rest_code_c4d444fb68c049b4909283fd72389c04-4"></a>        <span class="k">print</span> <span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">ajoute_blancs</span><span class="p">(</span><span class="n">coeff</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">coeff</span> <span class="ow">in</span> <span class="n">ligne</span><span class="p">])</span>
</pre>
<p>Si je reprends ma matrice :</p>
<div class="math">
\begin{equation*}
 A = \begin{pmatrix}
1 &amp; 2 &amp; 4324\\
333333&amp;1&amp;0
\end{pmatrix}
\end{equation*}
</div>
<pre class="code python"><a name="rest_code_a6ab2bde3c06472fba9f5c8c0b311dda-1"></a><span class="n">affiche</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
</pre>
<pre class="literal-block">
     1      2   4324
333333      1      0
</pre>
</div>
</div>
        </div>
                <ul class="pager hidden-print">
<li class="previous">
                <a href="../animation-en-python/" rel="prev" title="Créer une animation en Python">Article précédent</a>
            </li>
            <li class="next">
                <a href="../matshow-ca-plait-aux-filles/" rel="next" title="Faire dans le Matshow, ça plaît aux filles">Article suivant</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="yaspat",
            disqus_url="http://yaspat.github.io/blog/posts/lecon-8-matrices/",
        disqus_title="Informatique : Le\u00e7on 8. Matrices",
        disqus_identifier="cache/posts/lecon-8-matrices.html",
        disqus_config = function () {
            this.language = "fr";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
                    <footer id="footer"><p> </p>
<hr> Contenu © 2016  <a href="mailto:patel.bcpst@gmail.com">MY. Patel <i class="icon-envelope"></i></a> -  Blog généré par  <a href="https://getnikola.com" rel="nofollow">Nikola</a>  -   Thème  : d'après <a href="https://github.com/getnikola/nikola-themes/tree/master/v7/zen-ipython">zen-ipython</a> de <a href="http://www.damian.oquanta.info/index.html"> Damián Avila</a><br><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/deed.fr">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a> 
<a href="../../index.html"> <i class="icon-home"></i></a>
<a href="../../stories/programmes-de-colles"> <i class="icon-calendar"></i></a>
<a href="../../stories/animathions"> <i class="icon-youtube-play"></i></a>
<a href="../../stories/exercices"> <i class="icon-gears"></i></a>
<a href="../../stories/sujets-de-dmds"> <i class="icon-edit"></i></a>
<a href="../../stories/informatique"> <i class="icon-desktop"></i></a>
<a href="../../stories/livre-dor"> <i class="icon-book"></i></a>
<a href="../../archive.html"> <i class="icon-archive"></i></a>
<a href="../../categories/index.html"> <i class="icon-tags"></i></a>
<a href="../../stories/about-me"> <i class="icon-question-sign"></i></a>
<a href="https://twitter.com/yaspatmat"> <i class="icon-twitter"></i></a>
<a href="https://github.com/yaspat"> <i class="icon-github"></i></a>
<a href="../../rss.xml"> <i class="icon-rss"></i></a>

            
        </footer>
</div>
    </section><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68807000-1', 'auto');
  ga('send', 'pageview');

</script><script src="../../assets/js/all-nocdn.js" type="text/javascript"></script><!-- Social buttons --><div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
 <a class="addthis_button_more">Partager</a>
 </div>
 <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script><!-- End of social buttons --><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68807000-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
